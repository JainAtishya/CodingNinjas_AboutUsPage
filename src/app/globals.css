@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

/* Removed unused @theme inline (not supported in this Tailwind setup) */

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Speaker section background vertical grid lines */
.speaker-section {
  background: repeating-linear-gradient(
      to right,
      #f3e8d2 0 1px,
      transparent 1px 140px
    ), #f8f5ef;
}

/* Layout helpers */
.speaker-card {
  position: relative;
  width: 100%; /* fluid; grid controls column widths */
}

.speaker-card .category-badge {
  position: absolute;
  top: -14px;
  left: 50%;
  transform: translateX(-50%);
  background: #fff;
  border: 1px solid #161616;
  padding: 4px 14px 3px;
  font-size: 11px;
  line-height: 1;
  font-weight: 700;
  color: #000;
  border-radius: 4px;
  letter-spacing: 0.5px;
  z-index: 3;
}

.speaker-card .panel {
  position: relative;
  padding: 26px 18px 90px;
  min-height: 360px;
  border-radius: 2px;
  outline: 2px solid #161616;
  outline-offset: -2px;
  box-shadow: 0 3px 0 #161616;
  /* Square corners; remove previous bottom-right chamfer */
  clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
}

.speaker-card .image-wrapper {
  position: relative;
  width: 100%;
  display: flex;
  justify-content: center;
  margin-top: 8px;
}

/* Abstract silhouette / placeholder */
.person-shape {
  width: 165px;
  aspect-ratio: 3/4;
  background: #1c1c1c;
  border-radius: 120px 120px 40px 40px / 150px 150px 60px 60px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 0 0 6px #fdf1dc, 0 0 0 10px #161616;
  overflow: hidden;
}

/* New portrait shell with polygon outline layering */
.portrait-shell {
  position: relative;
  /* scale with container; keep aspect ratio for the image fill */
  width: clamp(140px, 62%, 200px);
  aspect-ratio: 190 / 260;
  clip-path: polygon(8% 4%, 90% 4%, 98% 50%, 90% 96%, 12% 96%, 4% 50%);
  overflow: hidden;
}
.portrait-shell img { object-fit: cover; }
.outline-layer { position:absolute; inset:0; pointer-events:none; mix-blend-mode:normal; }
.outline-layer.shadow { filter: blur(1px); opacity:.9; }

.initials-fallback { width:100%; height:100%; display:flex; align-items:center; justify-content:center; background:#222; color:#fdf1dc; font-weight:700; font-size:40px; letter-spacing:1px; }

/* Follow cursor */
.card-cursor { position:absolute; width:54px; height:54px; margin:-27px 0 0 -27px; background:#161616; color:#fff; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:10px; font-weight:600; letter-spacing:.5px; pointer-events:none; box-shadow:0 2px 4px rgba(0,0,0,.25); animation: cursorPop .3s ease; }
.card-cursor .cursor-label { transform:translateY(1px); }
@keyframes cursorPop { from { transform:scale(.4); opacity:0; } to { transform:scale(1); opacity:1; } }


.person-shape .initials {
  color: #fdf1dc;
  font-size: 34px;
  font-weight: 700;
  letter-spacing: 1px;
}

.speaker-card .name-pill {
  position: absolute;
  bottom: 66px;
  left: 50%;
  transform: translateX(-50%);
  background: #161616;
  color: #fff;
  font-size: 11px;
  font-weight: 600;
  padding: 6px 14px 5px;
  border-radius: 999px;
  border: 1px solid #161616;
  box-shadow: 0 2px 0 #161616;
  white-space: nowrap;
}

.speaker-card .desc-box {
  position: relative;
  margin-top: 8px;
  background: #fff;
  border: 1px solid #161616;
  box-shadow: 0 3px 0 #161616;
  padding: 14px 16px 16px;
  font-size: 11px;
  line-height: 1.3;
  border-radius: 2px;
}

.speaker-card .desc-box:before,
.speaker-card .desc-box:after {
  content: "";
  position: absolute;
  width: 6px;
  height: 6px;
  background: #161616;
  border-radius: 50%;
}

.speaker-card .desc-box:before {
  top: 6px;
  left: 6px;
}
.speaker-card .desc-box:after {
  bottom: 6px;
  right: 6px;
}

/* Tiny dots around panel corners */
.speaker-card .panel:before,
.speaker-card .panel:after {
  content: "";
  position: absolute;
  width: 8px;
  height: 8px;
  background: #161616;
  border-radius: 2px;
}
.speaker-card .panel:before { top: 6px; right: 6px; }
.speaker-card .panel:after { bottom: 10px; left: 10px; }

/* Hover lift */
.speaker-card:hover .panel { transform: translateY(-4px); transition: transform .25s ease; }
.speaker-card:hover .desc-box { transform: translateY(-2px); transition: transform .25s ease; }

/* Utility background colors override to match palette */
.bg-amber-500 { background:#f4a905 !important; }
.bg-orange-500 { background:#ff7931 !important; }
.bg-pink-500 { background:#ea84b5 !important; }

/* --- Overrides & enhancements appended --- */
.portrait-image { transition: transform .5s ease; }
.group\/portrait:hover .portrait-image { transform: scale(1.04); }

/* Name pill removed */

/* Do not globally hide cursor in portrait-shell anymore; handled on panel when enabled */

/* Corner boxes (square handles) */
.corner-box { position:absolute; width:18px; height:18px; background:#fff; border:1px solid #161616; box-shadow:0 2px 0 #161616; z-index:5; }
.corner-box.tl { top:4px; left:4px; }
.corner-box.tr { top:4px; right:4px; }
.corner-box.bl { bottom:4px; left:4px; }
.corner-box.br { bottom:4px; right:4px; }

/* Staggered vertical offsets */
.speaker-card { transform: translateY(var(--offset,0)); transition: transform .7s cubic-bezier(.16,.84,.37,1), opacity .5s ease; opacity:0; }
.speaker-card.visible { opacity:1; }
.speaker-card.visible { transform: translateY(calc(var(--offset,0) * 0.3)); }

/* Smooth cursor position (translated via inline style) */
.card-cursor { position:absolute; top:0; left:0; transform:translate(-9999px,-9999px); transition: transform .08s linear; }

/* Custom follow cursor restyle (triangle + bubble) */
.card-cursor { width:auto; height:auto; background:transparent; margin:0; box-shadow:none; animation:none; display:flex; align-items:center; gap:6px; }
.card-cursor:before { content:""; width:18px; height:18px; background:#ff6a1a; clip-path: polygon(0 0, 100% 50%, 0 100%); filter: drop-shadow(0 1px 0 #161616); }
.card-cursor { transition:opacity .25s ease; opacity:.9; }
.card-cursor:before { background:#ff7a22; }
.card-cursor .cursor-label { opacity:0; transition:opacity .25s ease; font-size:11px; font-weight:700; padding:8px 14px 7px; }
.card-cursor[data-following="true"] .cursor-label { opacity:1; }

/* Hide system cursor only when we add .custom-cursor on the panel (desktop/fine pointer only) */
.speaker-card .panel.custom-cursor { cursor: none; }

/* Responsive card sizing */
@media (max-width: 640px) {
  .speaker-card { width: 100%; }
  .speaker-card .panel { padding: 20px 14px 70px; min-height: 300px; }
  .portrait-shell { width: clamp(120px, 58vw, 180px); }
  .speaker-card .desc-box { font-size: 10px; padding: 12px 14px 14px; }
  .speaker-card .category-badge { transform: translateX(-50%) scale(.95); }
  .corner-box { width: 14px; height: 14px; }
  .card-cursor .cursor-label { font-size: 10px; padding: 6px 10px; }
}

@media (max-width: 768px) {
  .speaker-card .panel { padding-bottom: 76px; }
}

